{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e","text":"<p>\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e:</p> <ul> <li>\ud83d\udcda \u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445 (\u041b\u0430\u04311, \u041b\u0430\u04312, \u041b\u0430\u04313)</li> <li>\ud83d\udee0 \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u0445</li> </ul> <p>\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u0432 \u043c\u0435\u043d\u044e \u0441\u043b\u0435\u0432\u0430 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b.</p>"},{"location":"labs/lab2/task1/","title":"\u0417\u0430\u0434\u0430\u0447\u0430 1: \u0420\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 threading, multiprocessing \u0438 async \u0432 Python","text":""},{"location":"labs/lab2/task1/#_1","title":"\u0426\u0435\u043b\u044c \u0440\u0430\u0431\u043e\u0442\u044b","text":"<p>\u041f\u043e\u043d\u044f\u0442\u044c \u043e\u0442\u043b\u0438\u0447\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438, \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u043c\u0438 \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c\u044e \u0432 Python.</p>"},{"location":"labs/lab2/task1/#_2","title":"\u0417\u0430\u0434\u0430\u0447\u0430","text":"<p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0440\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u043d\u0430 Python, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432: <code>threading</code>, <code>multiprocessing</code> \u0438 <code>async</code>. \u041a\u0430\u0436\u0434\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0435\u0448\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043f\u043e\u0434\u0441\u0447\u0435\u0442\u0430 \u0441\u0443\u043c\u043c\u044b \u0432\u0441\u0435\u0445 \u0447\u0438\u0441\u0435\u043b \u043e\u0442 1 \u0434\u043e 10000000000000. \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 \u0434\u043b\u044f \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.</p>"},{"location":"labs/lab2/task1/#_3","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u043d\u0430 Python \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0430: <code>threading</code>, <code>multiprocessing</code> \u0438 <code>async</code>.</p> <p>\u041a\u0430\u0436\u0434\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>calculate_sum()</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f. \u0414\u043b\u044f <code>threading</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c <code>threading</code>, \u0434\u043b\u044f <code>multiprocessing</code> - \u043c\u043e\u0434\u0443\u043b\u044c <code>multiprocessing</code>, \u0430 \u0434\u043b\u044f <code>async</code> - \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430 <code>async/await</code> \u0438 \u043c\u043e\u0434\u0443\u043b\u044c <code>asyncio</code>.</p> <p>\u041a\u0430\u0436\u0434\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430: - \u0420\u0430\u0437\u0431\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0437\u0430\u0434\u0430\u0447. - \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438\u0445 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e. - \u0417\u0430\u043c\u0435\u0440\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0438 \u0441\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430</p>"},{"location":"labs/lab2/task1/#async","title":"async","text":"<p>Async sum: 5000000050000000 Execution time: 0.7910861968994141 seconds</p>"},{"location":"labs/lab2/task1/#threading","title":"threading","text":"<p>Total sum: 5000000050000000 Execution time: 0.8023879528045654 seconds</p>"},{"location":"labs/lab2/task1/#multiprocessing","title":"multiprocessing","text":"<p>Total sum: 5000000050000000 Execution time: 0.4445979595184326 seconds</p>"},{"location":"labs/lab2/task1/#_4","title":"\u0412\u044b\u0432\u043e\u0434","text":"<p>Multiprocessing \u2014 \u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439, \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u044b GIL \u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e\u0437\u0430\u0434\u0430\u0447\u043d\u043e\u0441\u0442\u044c, \u0440\u0430\u0431\u043e\u0442\u0430\u044f \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u044f\u0434\u0440\u0430\u0445.</p> <p>Async \u2014 \u0432\u0442\u043e\u0440\u043e\u0439 \u043f\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0431\u0435\u0437 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0438\u043b\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432, \u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438, \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u043c\u0438 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439.</p> <p>Threading \u2014 \u0441\u0430\u043c\u044b\u0439 \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043f\u043e\u0442\u043e\u043a\u0438 \u0432 Python \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u044b GIL \u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u044f\u0434\u0435\u0440 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0434\u043b\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0442\u044f\u0436\u0435\u043b\u044b\u0445 \u0437\u0430\u0434\u0430\u0447.</p>"},{"location":"labs/lab2/task2/","title":"task2","text":""},{"location":"labs/lab2/task2/#2-","title":"\u0417\u0430\u0434\u0430\u0447\u0430 2. \u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u0432\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435\u043c \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445","text":""},{"location":"labs/lab2/task2/#_1","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435 \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u043d\u0430 Python, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0435\u0431-\u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432 <code>threading</code>, <code>multiprocessing</code> \u0438 <code>async</code>. \u041a\u0430\u0436\u0434\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c HTML-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 URL, \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u0435\u0451, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d.</p>"},{"location":"labs/lab2/task2/#_2","title":"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u044f","text":"<ol> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432:</li> <li> <p>\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0440\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044b:</p> <ul> <li>threading \u2014 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438.</li> <li>multiprocessing \u2014 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u043c\u0438.</li> <li>async \u2014 \u0434\u043b\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c <code>asyncio</code> \u0438 <code>aiohttp</code>.</li> </ul> </li> <li> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445:    \u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u043e\u043c\u0435\u0440 1. \u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u043a\u0430\u043a\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044e.</p> </li> <li> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u0435\u0439:</p> </li> <li>\u0414\u043b\u044f <code>threading</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c <code>threading</code>.</li> <li>\u0414\u043b\u044f <code>multiprocessing</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u043e\u0434\u0443\u043b\u044c <code>multiprocessing</code>.</li> <li>\u0414\u043b\u044f <code>async</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430 <code>async/await</code> \u0438 \u043c\u043e\u0434\u0443\u043b\u044c <code>aiohttp</code> \u0434\u043b\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li> </ol>"},{"location":"labs/lab2/task2/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b","text":""},{"location":"labs/lab2/task2/#urls","title":"urls \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u044b \u0441 \u0445\u0430\u0445\u0430\u0442\u043e\u043d\u043e\u043c","text":"<p>urls =[     \"https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/o5y3kpvtj1-architech\",     \"https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/5fhli252y1-konkurs-avtonomnii-poisk-na-bortu\",     \"https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/80uis0egp1-go-ctf-2025\",     \"https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/eculsok1x1-unithack-2025\",     'https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/imklbzv241-belie-hakeri',     'https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/1fhvmnaa81-gorod-geroev',     'https://www.\u0445\u0430\u043a\u0430\u0442\u043e\u043d\u044b.\u0440\u0443\u0441/tpost/yd4yk40ta1-forum',</p> <p>]</p>"},{"location":"labs/lab2/task2/#_4","title":"\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430","text":"<pre><code>from bs4 import BeautifulSoup\nfrom datetime import datetime, timedelta\nfrom db import SessionLocal, AsyncSessionLocal\nfrom models import Hackathon\n\n\nhtml_paths = {\n    \"title\": '#rec488755787 &gt; div &gt; div &gt; div.t-feed__post-popup__container.t-container.t-popup__container.t-popup__container-static &gt; div.t-feed__post-popup__content-wrapper &gt; div:nth-child(3) &gt; div.t-feed__post-popup__title-wrapper &gt; h1',\n    'description': '#feed-text &gt; div &gt; section &gt; div &gt; div:nth-child(1)'\n}\n\n\ndef extract_text(element, default=\"N/A\"):\n    return element.get_text(strip=True) if element else default\n\n\ndef scrape_html(html):\n    soup = BeautifulSoup(html, 'lxml')\n    title_el = soup.select_one(html_paths[\"title\"])\n    desc_el = soup.select_one(html_paths[\"description\"])\n    return {\n        \"title\": extract_text(title_el, \"No title\"),\n        \"description\": extract_text(desc_el, \"No description\")\n    }\n\n\ndef save_sync(html):\n    content = scrape_html(html)\n    db = SessionLocal()\n    try:\n        db.add(Hackathon(\n            name=content[\"title\"],\n            description=content[\"description\"],\n            start_date=datetime.utcnow(),\n            end_date=datetime.utcnow() + timedelta(days=7)\n        ))\n        db.commit()\n    finally:\n        db.close()\n\n\nasync def save_async(html):\n    content = scrape_html(html)\n    async with AsyncSessionLocal() as db:\n        db.add(Hackathon(\n            name=content[\"title\"],\n            description=content[\"description\"],\n            start_date=datetime.utcnow(),\n            end_date=datetime.utcnow() + timedelta(days=7)\n        ))\n        await db.commit()\n</code></pre>"},{"location":"labs/lab2/task2/#_5","title":"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","text":"<p>async - Completed in 0.816 seconds</p> <p>threading - Completed in 1.801 seconds</p> <p>multiprocessing - Completed in 1.874 seconds</p>"},{"location":"labs/lab3/lab3/","title":"\u041b\u0430\u04313","text":""},{"location":"labs/lab3/lab3/#fastapi-celery-docker","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430: \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 FastAPI \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439 Celery \u0432 Docker","text":""},{"location":"labs/lab3/lab3/#_1","title":"\u0426\u0435\u043b\u044c","text":"<p>\u041d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0443\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0442\u044c FastAPI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 Docker, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u044c \u043c\u0435\u0436\u0434\u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e</p> <p>\u0432\u0430\u043d\u0438\u0435\u043c \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439 Celery \u0438 Redis.</p>"},{"location":"labs/lab3/lab3/#_2","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u041f\u0440\u043e\u0435\u043a\u0442 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432:</p> <p>\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 FastAPI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 (hackathon)</p> <p>\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0430\u0440\u0441\u0435\u0440\u0430 (parser)</p> <p>\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 PostgreSQL</p> <p>Redis \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439 \u0437\u0430\u0434\u0430\u0447</p> <p>Celery \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447</p>"},{"location":"labs/lab3/lab3/#1-docker","title":"\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0430 1: \u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0432 Docker","text":""},{"location":"labs/lab3/lab3/#hackathon","title":"Hackathon","text":"<pre><code>FROM python:3.11\n\nWORKDIR /app\n\nCOPY requirements.txt .\n\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . .\n\nCMD [\"uvicorn\", \"app:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\", \"--reload\"]\n</code></pre>"},{"location":"labs/lab3/lab3/#parser","title":"Parser","text":"<pre><code>FROM python:3.9\n\nWORKDIR /parser\n\nCOPY requirements.txt .\n\nRUN pip install --no-cache-dir --upgrade -r requirements.txt\n\nCOPY . .\n\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"9000\"]\n</code></pre>"},{"location":"labs/lab3/lab3/#docker-compose","title":"Docker Compose \u0434\u043b\u044f \u043e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432","text":"<pre><code>version: \"3.8\"\n\nservices:\n  db:\n    image: postgres:14\n    container_name: hackathon_postgres\n    restart: always\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: postgres\n      POSTGRES_DB: hackathon_db\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7\n    container_name: redis\n    restart: always\n    ports:\n      - \"6379:6379\"\n\n  hackathon:\n    build:\n      context: ./hackathon\n      dockerfile: Dockerfile\n    container_name: hackathon_app\n    depends_on:\n      - db\n      - redis\n    env_file:\n      - ./hackathon/.env\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - ./hackathon:/app\n    command: [\"uvicorn\", \"app:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\", \"--reload\"]\n\n  parser:\n    build:\n      context: ./parser\n      dockerfile: Dockerfile\n    container_name: parser_app\n    depends_on:\n      - db\n    env_file:\n      - ./parser/task2/.env\n    ports:\n      - \"9000:9000\"\n    volumes:\n      - ./parser:/parser\n    command: [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"9000\"]\n\n  celery_worker:\n    build:\n      context: ./hackathon\n      dockerfile: Dockerfile\n    container_name: celery_worker\n    depends_on:\n      - redis\n      - hackathon\n    command: [\"celery\", \"-A\", \"celery_worker\", \"worker\", \"--loglevel=info\"]\n    volumes:\n      - ./hackathon:/app\n    environment:\n      - CELERY_BROKER=redis://redis:6379/0\n      - CELERY_BACKEND=redis://redis:6379/0\n\nvolumes:\n  postgres_data:\n</code></pre>"},{"location":"labs/lab3/lab3/#2-api","title":"\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0430 2: \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f API \u043f\u0430\u0440\u0441\u0435\u0440\u0430","text":"<pre><code>from fastapi import APIRouter, HTTPException\nfrom pydantic import BaseModel\nfrom celery.result import AsyncResult\nfrom celery_worker import parse_url_tasks, celery_app\n\nrouter = APIRouter()\n\nclass URLRequest(BaseModel):\n    url: str\n\n@router.post(\"/parse-url\")\ndef parse_by_url(request: URLRequest):\n    try:\n        task = parse_url_tasks.delay(request.url)\n        return {\"task_id\": task.id}\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=str(e))\n\n@router.get(\"/task-status/{task_id}\")\ndef get_status(task_id: str):\n    task_result = AsyncResult(task_id, app=celery_app)\n    if task_result.ready():\n        return {\"status\": \"completed\", \"result\": task_result.result}\n    return {\"status\": \"pending\"}\n</code></pre> <p>\u041f\u0430\u0440\u0441\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e URL \u041e\u043d\u0430 \u043f\u043e\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c </p> <p>\u041f\u043e\u0441\u043b\u0435 \u043f\u043e task_id \u043f\u043e\u043b\u0443\u0447\u0435\u043c \u043e\u0442\u0432\u0435\u0442 </p>"}]}